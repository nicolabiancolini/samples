<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Media Player | https://azure.microsoft.com/en-us/products/media-services/media-player/</title>
    <link href="//amp.azure.net/libs/amp/latest/skins/amp-default/azuremediaplayer.min.css" rel="stylesheet">
    <script src="//amp.azure.net/libs/amp/latest/azuremediaplayer.min.js"></script>
</head>

<body>
    <video id="player" class="azuremediaplayer amp-default-skin" autoplay controls width="640" height="400"
        poster="https://picsum.photos/640/400">
        <p class="amp-no-js">
            To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5
            video
        </p>
    </video>
    <div id="update-player">
        <p>URL:</p>
        <input name="uri" type="text" />
        <button type="button">Submit</button>
    </div>
    <script>
        const player = amp('player', { /* Options */
            techOrder: ["azureHtml5JS", "flashSS", "html5FairPlayHLS", "silverlightSS", "html5"],
            "nativeControlsForTouch": false,
            autoplay: false,
            controls: true,
            width: "640",
            height: "400",
            poster: "",
        }, function () {
            console.log('Good to go!');
            // add an event listener
            this.addEventListener('ended', function () {
                console.log('Finished!');
            });
        });
    </script>
    <script>
        document.querySelector('#update-player > button').addEventListener('click', () => {
            player.src([{
                src: document.querySelector('#update-player > input[name="uri"]').value,
                type: "application/vnd.ms-sstr+xml"
            }]);
        });
    </script>
</body>

</html>
